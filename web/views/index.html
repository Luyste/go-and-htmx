{{ block "index" .}}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>go-and-htmx</title>
    <script
       src="https://unpkg.com/htmx.org@2.0.3"
       integrity="sha384-0895/pl2MU10Hqc6jd4RvrthNlDiE9U1tWmX7WRESftEDRosgxNsQG/Ze9YMRzHq"
       crossorigin="anonymous">
    </script>
  </head>
  <body>
    <div id="form-input">
      {{ template "form-input" .FormData }}
    </div>
    <hr />
    <div id="form-display" style="display: flex; flex-direction: column">
      {{ template "form-display" .PageData }}
    </div>
  </body>
</html>
{{ end }} 

{{ block "form-input" . }}
<form hx-post="/save-contact" hx-swap="outerHTML"> 
  <input 
        {{ if .Values.name }} value="{{ .Values.name }}" {{ end }}
        type="text" name="name" 
  />
  <input 
        {{ if .Values.email }} value="{{ .Values.email}}" {{ end }}
        type="email" name="email" 
  />
  <button type="submit">Save Contact</button>
  {{ if .Errors.email }} 
  <h4 style="color: red">{{ .Errors.email }}</h4>
  {{ end }}
</form>
{{ end }} 

{{ block "form-display" .PageData }} 
{{ range .Contacts }} 
<span>name: {{ .Name }}, email: {{ .Email }}</span>
{{ end }} 
{{ end }}
